"use strict";(self.webpackChunkTP05=self.webpackChunkTP05||[]).push([[349],{2349:(F,c,l)=>{l.r(c),l.d(c,{ClientModule:()=>P});var p=l(6895),h=l(9496),e=l(8274);let g=(()=>{class i{constructor(){}test(t){return!!/^\d{5}$/.test(t)}onclick(){console.log("param "+typeof this.appCtrlDataDirective+" "+this.appCtrlDataDirective)}testChamps(t,n){var o;switch(n){case"cp":o=/^\d{5}$/;break;case"tel":t=this.correctPhoneFormat(t),o=/^\d{10}$/,console.log("cp "+t)}return!(null==o||!o.test(t))}correctPhoneFormat(t){return console.log("func 1 "+t),t.includes("-")&&t.includes("+33")&&(t="0"+t.charAt(4)+t.charAt(6)+t.charAt(7)+t.charAt(9)+t.charAt(10)+t.charAt(12)+t.charAt(13)+t.charAt(15)+t.charAt(16)),t}onsubmit(){console.log("hi")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","appCtrlDataDirective",""],["","champsCP",""]],hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n.onclick()})("submit",function(){return n.onsubmit()})},inputs:{appCtrlDataDirective:"appCtrlDataDirective",champsCP:"champsCP"}}),i})(),C=(()=>{class i{static transform(t){return t.includes("-")&&t.includes("+33")&&(t="0"+t.charAt(4)+t.charAt(6)+t.charAt(7)+t.charAt(9)+t.charAt(10)+t.charAt(12)+t.charAt(13)+t.charAt(15)+t.charAt(16),console.log("1 "+t)),"0"==t.charAt(0)&&(t="+33-"+t.substr(1)),console.log(t),t.charAt(0)+t.charAt(1)+t.charAt(2)+t.charAt(3)+t.charAt(4)+"-"+t.charAt(5)+t.charAt(6)+"-"+t.charAt(7)+t.charAt(8)+"-"+t.charAt(9)+t.charAt(10)+"-"+t.charAt(11)+t.charAt(12)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"phone",type:i,pure:!0}),i})();class f{constructor(){this.firstname="",this.lastname="",this.email="",this.login="",this.password="",this.phone="",this.locale="",this.address="",this.city="",this.cp="",this.country="",this.civility=""}}var v=l(2340),d=l(529);let m=(()=>{class i{constructor(t){this.http=t,this.env=v.N,this._client=new f}register(t){return this.http.post(this.env.apiUrl+"/register",t)}get client(){return this._client}set client(t){this._client=t}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(d.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var a=l(4006);let u=(()=>{class i{constructor(){this.firstname="",this.lastname="",this.adress="",this.pc="",this.city="",this.phone="",this.mail="",this.civ="",this.pass="",this.userid="",this.country="",this.verif="",this.res=!1,this.change=new e.vpe}ngOnInit(){}test(t,n){let o=new RegExp(n,"g");return this.verif=t,console.log(t),this.res=o.test(t),console.log(this.res),this.res}clic(){console.log("chzmps chzmps "+this.champsPC),this.change.emit("Votre Pr\xe9nom : "+this.firstname+" ***** Votre nom : "+this.lastname+" ***** Votre adresse : "+this.adress+" ***** Votre code postal : "+this.pc+" ***** Votre ville : "+this.city+" ***** Votre pays : "+this.country+" ***** Votre num\xe9ro de t\xe9l\xe9phone : "+this.phone+" ***** Votre adresse mail : "+this.mail+" ***** Vous \xeates : "+this.civ+" ***** Votre identifiant : "+this.userid+" ***** Votre mot de passe : "+this.pass)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-composant-validation"]],inputs:{firstname:"firstname",lastname:"lastname",adress:"adress",pc:"pc",city:"city",phone:"phone",mail:"mail",civ:"civ",pass:"pass",userid:"userid",country:"country",champsPC:"champsPC"},outputs:{change:"change"},decls:4,vars:0,template:function(t,n){1&t&&(e._UZ(0,"br")(1,"br"),e.TgZ(2,"h1"),e._uU(3,"R\xe9capitulatif"),e.qZA())},styles:["div[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-align:center;color:#00008b}"]}),i})();const _=["codePostalChamps"],Z=["telnumber"],A=["recap"];function T(i,r){1&i&&(e.TgZ(0,"div",11,12),e._uU(2," le code postal doit contenir 5 chiffres "),e.qZA())}function b(i,r){1&i&&(e.TgZ(0,"div",11,13),e._uU(2," le num\xe9ro de t\xe9lephone doit contenir 10 chiffres "),e.qZA())}function y(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.recap)}}const M=[{path:"",component:(()=>{class i{constructor(t,n,o){this.clientService=t,this.formbuilder=n,this.router=o,this.client=this.clientService.client,this.clientForm=this.formbuilder.group({lastname:[this.client.lastname],firstname:[this.client.firstname],email:[this.client.email],login:[this.client.login],password:[this.client.password],phone:[this.client.phone],locale:[this.client.locale],address:[this.client.address],city:[this.client.city],zip:[this.client.cp],country:[this.client.country],civility:[this.client.civility]}),this.title="Titre du Composant 1",this.valid=!0,this.prenom="",this.nom="",this.adresse="",this.cp="",this.ville="",this.tel="",this.email="",this.civilite="",this.pays="",this.login="",this.password="",this.recap="",this.res=!1,this.isShownCp=!1,this.isShownTel=!1,this.recapShow=!1,this.directive=new g}set appCtrlDataDirective(t){null!=this.inputCP&&(this.res=t.testChamps(this.inputCP.nativeElement.value,"cp"))}ngOnInit(){}clic(){this.tel=C.transform(this.tel),null!=this.inputCP&&null!=this.inputTEL&&(console.log("yes"),this.directive.testChamps(this.inputCP.nativeElement.value,"cp")&&this.directive.testChamps(this.inputTEL.nativeElement.value,"tel")?(this.isShownCp=!1,this.isShownTel=!1,this.inputCP.nativeElement.style.borderColor="",this.inputTEL.nativeElement.style.borderColor="",this.clicChange(),this.recapShow=!0,console.log("cpifOne "+this.isShownCp+" telifOne "+this.isShownTel)):(this.recapShow=!1,this.directive.testChamps(this.inputCP.nativeElement.value,"cp")||(this.inputCP.nativeElement.style.borderColor="red",this.isShownCp=!0,console.log("cp "+this.isShownCp)),this.directive.testChamps(this.inputTEL.nativeElement.value,"tel")||(this.inputTEL.nativeElement.style.borderColor="red",this.isShownTel=!0,console.log("tel "+this.isShownTel)))),this.clientService.register(this.client).subscribe(t=>{this.clientService.client=t,this.router.navigate(["/client/result"])})}clicChange(){this.recap="Votre Pr\xe9nom : "+this.prenom+" ***** Votre nom : "+this.nom+" ***** Votre adresse : "+this.adresse+" ***** Votre code postal : "+this.cp+" ***** Votre ville : "+this.ville+" ***** Votre pays : "+this.pays+" ***** Votre num\xe9ro de t\xe9l\xe9phone : "+this.tel+" ***** Votre adresse mail : "+this.email+" ***** Vous \xeates : "+this.civilite+" ***** Votre identifiant : "+this.login+" ***** Votre mot de passe : "+this.password}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m),e.Y36(a.qu),e.Y36(h.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-composant-formulaire"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_,5),e.Gf(Z,5),e.Gf(A,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.inputCP=o.first),e.iGM(o=e.CRH())&&(n.inputTEL=o.first),e.iGM(o=e.CRH())&&(n.recapElement=o.first)}},decls:67,vars:27,consts:[[1,"form"],[3,"ngModel","ngModelChange"],["style","color: red; font-size: small",4,"ngIf"],["id","codePostalChamps","name","codePostalChampss","inputCp","",1,"mat-input-flex.mat-form-field-flex",3,"ngModel","ngModelChange"],["codePostalChamps",""],[1,"mat-input-flex.mat-form-field-flex",3,"ngModel","ngModelChange"],["telnumber",""],["type","password",3,"ngModel","ngModelChange"],[2,"margin-right","8%",3,"click"],[3,"firstname","lastname","adress","pc","city","country","phone","mail","civ","userid","pass","champsPC","change"],[4,"ngIf"],[2,"color","red","font-size","small"],["errCp",""],["errTel",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"label"),e._uU(2,"Pr\xe9nom : "),e.qZA(),e.TgZ(3,"input",1),e.NdJ("ngModelChange",function(s){return n.prenom=s}),e.qZA(),e._UZ(4,"br")(5,"br"),e.TgZ(6,"label"),e._uU(7,"Nom : "),e.qZA(),e.TgZ(8,"input",1),e.NdJ("ngModelChange",function(s){return n.nom=s}),e.qZA(),e._UZ(9,"br")(10,"br"),e.TgZ(11,"label"),e._uU(12,"Adresse : "),e.qZA(),e.TgZ(13,"input",1),e.NdJ("ngModelChange",function(s){return n.adresse=s}),e.qZA(),e._UZ(14,"br")(15,"br"),e.YNc(16,T,3,0,"div",2),e.TgZ(17,"label"),e._uU(18,"Code Postal : "),e.qZA(),e.TgZ(19,"input",3,4),e.NdJ("ngModelChange",function(s){return n.cp=s}),e.qZA(),e._UZ(21,"br")(22,"br"),e.TgZ(23,"label"),e._uU(24,"Ville : "),e.qZA(),e.TgZ(25,"input",1),e.NdJ("ngModelChange",function(s){return n.ville=s}),e.qZA(),e._UZ(26,"br")(27,"br"),e.TgZ(28,"label"),e._uU(29," Pays : "),e.qZA(),e.TgZ(30,"input",1),e.NdJ("ngModelChange",function(s){return n.pays=s}),e.qZA(),e._UZ(31,"br")(32,"br"),e.YNc(33,b,3,0,"div",2),e.TgZ(34,"label"),e._uU(35,"T\xe9lephone : "),e.qZA(),e.TgZ(36,"input",5,6),e.NdJ("ngModelChange",function(s){return n.tel=s}),e.qZA(),e._UZ(38,"br")(39,"br"),e.TgZ(40,"label"),e._uU(41,"E-mail : "),e.qZA(),e.TgZ(42,"input",1),e.NdJ("ngModelChange",function(s){return n.email=s}),e.qZA(),e._UZ(43,"br")(44,"br"),e.TgZ(45,"label"),e._uU(46,"Civilit\xe9 : "),e.qZA(),e.TgZ(47,"input",1),e.NdJ("ngModelChange",function(s){return n.civilite=s}),e.qZA(),e._UZ(48,"br")(49,"br"),e.TgZ(50,"label"),e._uU(51,"Identifiant : "),e.qZA(),e.TgZ(52,"input",1),e.NdJ("ngModelChange",function(s){return n.login=s}),e.qZA(),e._UZ(53,"br")(54,"br"),e.TgZ(55,"label"),e._uU(56,"Mot de passe : "),e.qZA(),e.TgZ(57,"input",7),e.NdJ("ngModelChange",function(s){return n.password=s}),e.qZA(),e._UZ(58,"br")(59,"br"),e.TgZ(60,"button",8),e.NdJ("click",function(){return n.clic()}),e._uU(61,"Envoyer"),e.qZA()(),e._UZ(62,"br")(63,"br"),e.TgZ(64,"div")(65,"app-composant-validation",9),e.NdJ("change",function(){return n.clicChange()}),e.qZA()(),e.YNc(66,y,2,1,"div",10)),2&t){const o=e.MAs(20);e.xp6(3),e.Q6J("ngModel",n.prenom),e.xp6(5),e.Q6J("ngModel",n.nom),e.xp6(5),e.Q6J("ngModel",n.adresse),e.xp6(3),e.Q6J("ngIf",n.isShownCp),e.xp6(3),e.Q6J("ngModel",n.cp),e.xp6(6),e.Q6J("ngModel",n.ville),e.xp6(5),e.Q6J("ngModel",n.pays),e.xp6(3),e.Q6J("ngIf",n.isShownTel),e.xp6(3),e.Q6J("ngModel",n.tel),e.xp6(6),e.Q6J("ngModel",n.email),e.xp6(5),e.Q6J("ngModel",n.civilite),e.xp6(5),e.Q6J("ngModel",n.login),e.xp6(5),e.Q6J("ngModel",n.password),e.xp6(8),e.Q6J("firstname",n.prenom)("lastname",n.nom)("lastname",n.nom)("adress",n.adresse)("pc",n.cp)("city",n.ville)("country",n.pays)("phone",n.tel)("mail",n.email)("civ",n.civilite)("userid",n.login)("pass",n.password)("champsPC",o),e.xp6(1),e.Q6J("ngIf",n.recapShow)}},dependencies:[p.O5,a.Fj,a.JJ,a.On,u],styles:[".form[_ngcontent-%COMP%]{text-align:right;max-width:57%}.btn[_ngcontent-%COMP%]{text-align:center}.mat-input-flex.mat-form-field-flex[_ngcontent-%COMP%]{border:1px solid black;border-color:#000}"]}),i})()},{path:"recap",component:u}];let P=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[m],imports:[p.ez,h.Bz.forChild(M),a.u5,d.JF,a.UX]}),i})()}}]);